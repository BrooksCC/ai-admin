import{u as S,j as e,b7 as s}from"./index-DL272AWR.js";import{g as T,d as y,b as B}from"./role-C77KL8oS.js";import"./react-DNsX-D9n.js";import{B as F}from"./BatchDeleteButton-CFEhXx8K.js";import{C as A}from"./CreateButton-Bmz8XRiV.js";import{D as I}from"./DeleteButton-dwsHQQqX.js";import{E as L}from"./EditButton-BxA7DUWl.js";import{S as k,a as i,b as P,R as v}from"./SearchRow-7m1xBKTX.js";import{S as w}from"./SearchContainer-o_4iD_cj.js";import{u as z,a as U,S as Y}from"./useTable-Crwa_oW2.js";import{P as a}from"./Permission-B9f0LXtM.js";import{F as O,I as n,a as V,f as r,o as _}from"./antd-Bzi-nNZC.js";import"./echarts-C9Czxobr.js";import"./Button-Dt5d1BmR.js";import"./useWindowSize-CaV-WCuS.js";import"./useMutation-D-hnmVva.js";import"./usePageTransfer-qRKEUqjO.js";function ne(){const{t}=S(),{listContainerProps:l,tableScrollY:m}=z(),{form:c,tableProps:d,isLoading:p,isDeleting:h,isBatchDeleting:x,handleSearch:u,handleReset:j,handleCreate:f,handleEdit:b,handleDelete:g,handleBatchDelete:C,selectedCount:E,selectedIsEmpty:R}=U({key:"role",cacheEnabled:!0,dataStaleTime:1e3*60*10,pagination:!0,selectable:!0,listApiFn:T,deleteApiFn:y,batchDeleteApiFn:B,scrollY:m,formInitialValues:{name:null,code:null},columns:[{title:t("page.systemRole.name"),dataIndex:"name"},{title:t("page.systemRole.code"),dataIndex:"code"},{title:t("common.actions"),key:"actions",fixed:"right",width:100,render:(q,o)=>e.jsxs(e.Fragment,{children:[e.jsx(a,{permission:s.UPDATE,children:e.jsx(L,{type:"text",size:"small",noText:!0,onClick:()=>b(o)})}),e.jsx(a,{permission:s.DELETE,children:e.jsx(I,{type:"text",size:"small",noText:!0,loading:h,onConfirm:()=>g(o.id)})})]})}]}),D=e.jsx(O,{form:c,onFinish:u,autoComplete:"off",colon:!1,children:e.jsx(w,{actions:e.jsxs(e.Fragment,{children:[e.jsxs(V,{children:[e.jsx(P,{loading:p}),e.jsx(v,{onClick:j})]}),e.jsx(r,{type:"vertical"}),e.jsx(a,{permission:s.DELETE,children:e.jsx(F,{loading:x,disabled:R,count:E,onConfirm:C})}),e.jsx(r,{type:"vertical"}),e.jsx(a,{permission:s.CREATE,children:e.jsx(A,{onClick:()=>f()})})]}),children:e.jsxs(k,{children:[e.jsx(i,{name:"name",label:t("page.systemRole.name"),children:e.jsx(n,{})}),e.jsx(i,{name:"code",label:t("page.systemRole.code"),children:e.jsx(n,{})})]})})});return e.jsx(Y,{...l,searchForm:D,children:e.jsx(_,{...d})})}export{ne as default};
