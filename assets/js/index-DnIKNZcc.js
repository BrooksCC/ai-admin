import{u as D,j as e,b8 as t,b9 as F,ba as k,bb as B}from"./index-Db-n9AuA.js";import"./react-DNsX-D9n.js";import{B as I}from"./BatchDeleteButton-Bt_weDdV.js";import{C as A}from"./CreateButton-DdPtt1jh.js";import{D as z}from"./DeleteButton-BMniQVoK.js";import{E as R}from"./EditButton-BUedPtj1.js";import{S as L,a as n,b as N,R as P}from"./SearchRow-q_BHF2rT.js";import{S as v}from"./SearchContainer-BiQmlDqb.js";import{u as w,a as Y,S as _}from"./useTable-fH3mNaAk.js";import{P as r}from"./Permission-EjXVxsIc.js";import{T as l,F as V,I as i,a as q,f as o,o as G}from"./antd-Bzi-nNZC.js";import"./echarts-C9Czxobr.js";import"./Button-_vf7nIrW.js";import"./useWindowSize-CaV-WCuS.js";import"./useMutation-DP40qn5U.js";import"./usePageTransfer-d_dI9PVS.js";function ie(){const{t:s}=D(),{listContainerProps:m,tableScrollY:c}=w(),{form:d,tableProps:p,isLoading:h,isDeleting:x,isBatchDeleting:u,handleSearch:j,handleReset:g,handleCreate:f,handleEdit:b,handleDelete:y,handleBatchDelete:U,selectedCount:C,selectedIsEmpty:E}=Y({key:"user",cacheEnabled:!0,dataStaleTime:1e3*60*10,pagination:!0,selectable:!0,listApiFn:F,deleteApiFn:k,batchDeleteApiFn:B,scrollY:c,formInitialValues:{username:null,nickName:null,email:null,phone:null},columns:[{title:s("page.systemUser.username"),dataIndex:"username"},{title:s("page.systemUser.nickName"),dataIndex:"nickName"},{title:s("page.systemUser.email"),dataIndex:"email"},{title:s("page.systemUser.phone"),dataIndex:"phone"},{title:s("page.systemUser.isFrozen"),dataIndex:"isFrozen",render:(T,a)=>a.isFrozen?e.jsx(l,{color:"red",children:s("page.systemUser.frozen")}):e.jsx(l,{color:"green",children:s("page.systemUser.unfrozen")})},{title:s("common.actions"),key:"actions",fixed:"right",width:100,render:(T,a)=>e.jsxs(e.Fragment,{children:[e.jsx(r,{permission:t.UPDATE,children:e.jsx(R,{type:"text",size:"small",noText:!0,onClick:()=>b(a)})}),e.jsx(r,{permission:t.DELETE,children:e.jsx(z,{type:"text",size:"small",noText:!0,loading:x,onConfirm:()=>y(a.id)})})]})}]}),S=e.jsx(V,{form:d,onFinish:j,autoComplete:"off",colon:!1,children:e.jsx(v,{actions:e.jsxs(e.Fragment,{children:[e.jsxs(q,{children:[e.jsx(N,{loading:h}),e.jsx(P,{onClick:g})]}),e.jsx(o,{type:"vertical"}),e.jsx(r,{permission:t.DELETE,children:e.jsx(I,{loading:u,disabled:E,count:C,onConfirm:U})}),e.jsx(o,{type:"vertical"}),e.jsx(r,{permission:t.CREATE,children:e.jsx(A,{onClick:()=>f()})})]}),children:e.jsxs(L,{children:[e.jsx(n,{name:"username",label:s("page.systemUser.username"),children:e.jsx(i,{})}),e.jsx(n,{name:"nickName",label:s("page.systemUser.nickName"),children:e.jsx(i,{})}),e.jsx(n,{name:"email",label:s("page.systemUser.email"),children:e.jsx(i,{})}),e.jsx(n,{name:"phone",label:s("page.systemUser.phone"),children:e.jsx(i,{})})]})})});return e.jsx(_,{...m,searchForm:S,children:e.jsx(G,{...p})})}export{ie as default};
