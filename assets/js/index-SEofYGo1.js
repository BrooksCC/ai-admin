import{j as e,u as E,g as S,h as l,i as p,I as M,k as P,T as L}from"./index-Bq-st_Rd.js";import{r as f}from"./react-DNsX-D9n.js";import{F as t,I as w,p as C,q as T,J as B,y as F,B as D}from"./antd-Bzi-nNZC.js";import"./echarts-C9Czxobr.js";function _(){return e.jsxs("svg",{className:"bg-login-waves",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 24 150 28",preserveAspectRatio:"none",shapeRendering:"auto",children:[e.jsx("defs",{children:e.jsx("path",{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"})}),e.jsxs("g",{children:[e.jsx("use",{className:"bg-login-wave-1 fill-white/70 dark:fill-black/70",href:"#gentle-wave",x:"48",y:"0"}),e.jsx("use",{className:"bg-login-wave-2 fill-white/50 dark:fill-black/50",href:"#gentle-wave",x:"48",y:"3"}),e.jsx("use",{className:"bg-login-wave-3 fill-white/30 dark:fill-black/30",href:"#gentle-wave",x:"48",y:"5"}),e.jsx("use",{className:"bg-login-wave-4 fill-white dark:fill-black",href:"#gentle-wave",x:"48",y:"7"})]})]})}function z(){const[a,n]=f.useState(!1),r=()=>{n(!0)},i=()=>{n(!1)};return{loading:a,loadingStart:r,loadingEnd:i,loadingFnWrapper:(c=()=>Promise.resolve())=>async(...g)=>{r();try{return await Promise.resolve(c(...g))}finally{i()}}}}function q(){const{t:a}=E(),{login:n}=S(),{loading:r,loadingFnWrapper:i}=z(),[m]=t.useForm(),[c,g]=f.useState(!1),o=l("LOGIN_REMEMBER"),d=l("LOGIN_REMEMBER_TRUE"),u=l("LOGIN_REMEMBER_USERNAME"),x=l("LOGIN_REMEMBER_PASSWORD");f.useEffect(()=>{localStorage.getItem(o)===d&&k()},[]);const b=s=>{s.target.checked||N()};function j(){}const v=i(async s=>{await n(s),c&&I(s.username,s.password)});function y(s){v(s)}function k(){if(localStorage.getItem(o)===d){const h=p(localStorage.getItem(u)||""),R=p(localStorage.getItem(x)||"");m.setFieldsValue({username:h,password:R}),g(!0)}}function I(s,h){localStorage.setItem(o,d),localStorage.setItem(u,l(s)),localStorage.setItem(x,l(h))}function N(){localStorage.removeItem(o),localStorage.removeItem(u),localStorage.removeItem(x)}return e.jsxs("div",{className:"relative bg-login dark:bg-login-dark",children:[e.jsx("div",{className:"min-h-[80vh] w-screen flex flex-col items-center justify-center py-10",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 text-center text-white/88 dark:text-black/85",children:[e.jsx(M,{icon:"icon-local:logo",className:"block text-5xl"}),e.jsx("div",{className:"text-3xl font-bold",children:"Pure Admin"})]}),e.jsxs("div",{className:"w-80 border rounded-xl bg-white/80 p-4 shadow transition-all dark:bg-black/80 hover:shadow-2xl",children:[e.jsxs(t,{form:m,initialValues:{username:"pure-admin",password:"123456"},size:"large",validateTrigger:["onChange","onBlur"],onFinish:y,children:[e.jsx(t.Item,{name:"username",rules:[{required:!0,message:a("page.login.userNamePlaceholder")}],children:e.jsx(w,{disabled:r,size:"large",allowClear:!0,placeholder:a("page.login.userNamePlaceholder"),prefix:e.jsx(C,{style:{color:"#D9D9D9"}})})}),e.jsx(t.Item,{name:"password",rules:[{required:!0,message:a("page.login.passwordPlaceholder")}],children:e.jsx(w.Password,{disabled:r,size:"large",allowClear:!0,placeholder:a("page.login.passwordPlaceholder"),prefix:e.jsx(T,{style:{color:"#D9D9D9"}})})}),e.jsxs("div",{className:"mb-4 flex flex-row justify-between",children:[e.jsx(B,{checked:c,disabled:r,className:"cursor-pointer select-none",onChange:b,children:a("page.login.rememberMe")}),e.jsx(F.Link,{className:"cursor-pointer select-none",onClick:j,children:a("page.login.forgotPassword")})]}),e.jsx(t.Item,{children:e.jsx(D,{type:"primary",htmlType:"submit",size:"large",block:!0,children:a("page.login.login")})})]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx(P,{}),e.jsx(L,{animate:!1})]})]})]})}),e.jsx(_,{})]})}export{q as default};
