import{D as tr,d as l}from"./index-Cvcm6e8Y.js";var nr;let ar;function cr(o,r,e,t,y,R){var $,s,V,A,B,M,S,sr=Symbol.metadata||Symbol.for("Symbol.metadata"),G=Object.defineProperty,O=Object.create,J=[O(null),O(null)],L=r.length;function C(n,p,u){return function(a,i){p&&(i=a,a=o);for(var w=0;w<n.length;w++)i=n[w].apply(a,u?[i]:[]);return u?i:a}}function W(n,p,u,a){if(typeof n!="function"&&(a||n!==void 0))throw new TypeError(p+" must "+(u||"be")+" a function"+(a?"":" or undefined"));return n}function Q(n,p,u,a,i,w,I,h,m,g,X){function z(d){if(!X(d))throw new TypeError("Attempted to access private element on non-instance")}var K=[].concat(p[0]),Y=p[3],q=!I,E=i===1,Z=i===3,H=i===4,F=i===2;function D(d,b,rr){return function(_,er){return b&&(er=_,_=n),rr&&rr(_),c[d].call(_,er)}}if(!q){var c={},x=[],v=Z?"get":H||E?"set":"value";if(m?(g||E?c={get:or(function(){return Y(this)},a,"get"),set:function(d){p[4](this,d)}}:c[v]=Y,g||or(c[v],a,F?"":v)):g||(c=Object.getOwnPropertyDescriptor(n,a)),!g&&!m){if((s=J[+h][a])&&(s^i)!=7)throw Error("Decorating two elements with the same name ("+c[v].name+") is not supported yet");J[+h][a]=i<3?1:i}}for(var f=n,T=K.length-1;T>=0;T-=u?2:1){var P=W(K[T],"A decorator","be",!0),N=u?K[T-1]:void 0,k={},j={kind:["field","accessor","method","getter","setter","class"][i],name:a,metadata:$,addInitializer:(function(d,b){if(d.v)throw new TypeError("attempted to call addInitializer after decoration was finished");W(b,"An initializer","be",!0),w.push(b)}).bind(null,k)};if(q)s=P.call(N,f,j),k.v=1,W(s,"class decorators","return")&&(f=s);else if(j.static=h,j.private=m,s=j.access={has:m?X.bind():function(d){return a in d}},H||(s.get=m?F?function(d){return z(d),c.value}:D("get",0,z):function(d){return d[a]}),F||Z||(s.set=m?D("set",0,z):function(d,b){d[a]=b}),f=P.call(N,E?{get:c.get,set:c.set}:c[v],j),k.v=1,E){if(typeof f=="object"&&f)(s=W(f.get,"accessor.get"))&&(c.get=s),(s=W(f.set,"accessor.set"))&&(c.set=s),(s=W(f.init,"accessor.init"))&&x.unshift(s);else if(f!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else W(f,(g?"field":"method")+" decorators","return")&&(g?x.unshift(f):c[v]=f)}return i<2&&I.push(C(x,h,1),C(w,h,0)),g||q||(m?E?I.splice(-1,0,D("get",h),D("set",h)):I.push(F?c[v]:W.call.bind(c[v])):G(n,a,c)),f}function U(n){return G(n,sr,{configurable:!0,enumerable:!0,value:$})}return $=O($??null),B=[],M=function(n){n&&B.push(C(n))},S=function(n,p){for(var u=0;u<e.length;u++){var a=e[u],i=a[1],w=7&i;if((8&i)==n&&!w==p){var I=a[2],h=!!a[3],m=16&i;Q(n?o:o.prototype,a,m,h?"#"+I:lr(I),w,w<2?[]:n?A=A||[]:V=V||[],B,!!n,h,p,n&&h?function(g){return fr(g)===o}:y)}}},S(8,0),S(0,0),S(8,1),S(0,1),M(V),M(A),s=B,L||U(o),{e:s,get c(){var n=[];return L&&[U(o=Q(o,[r],t,o.name,5,n)),C(n,1)]}}}function lr(o){var r=dr(o,"string");return typeof r=="symbol"?r:r+""}function dr(o,r){if(typeof o!="object"||!o)return o;var e=o[Symbol.toPrimitive];if(e!==void 0){var t=e.call(o,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(o)}function or(o,r,e){typeof r=="symbol"&&(r=(r=r.description)?"["+r+"]":"");try{Object.defineProperty(o,"name",{configurable:!0,value:e?e+" "+r:r})}catch{}return o}function fr(o){if(Object(o)!==o)throw TypeError("right-hand side of 'in' should be an object, got "+(o!==null?typeof o:"null"));return o}let ir;class ur{async createWorldInfo(r){try{return(await l.adminWorldInfo.createWorldInfo({createWorldInfoRequestDto:r})).data}catch(e){throw console.error("Failed to create world info:",e),e}}async getWorldInfoById(r){try{return(await l.adminWorldInfo.getWorldInfoById({id:r})).data}catch(e){throw console.error(`Failed to get world info by id ${r}:`,e),e}}async searchWorldInfo(r){try{return(await l.adminWorldInfo.searchWorldInfo(r)).data}catch(e){throw console.error("Failed to search world info:",e),e}}async getWorldInfoBindings(r){try{return(await l.adminWorldInfo.getWorldInfoBindings({id:r})).data}catch(e){throw console.error(`Failed to get world info bindings for ${r}:`,e),e}}async getReverseBindings(r,e){try{return(await l.adminWorldInfo.getReverseBindings({id:r,entityType:e})).data}catch(t){throw console.error(`Failed to get reverse bindings for ${r} with entityType ${e}:`,t),t}}async getWorldInfosByCharacter(r){return this.getReverseBindings(r,"character")}async getWorldInfosByStory(r){return this.getReverseBindings(r,"story")}async updateWorldInfo(r,e){try{return(await l.adminWorldInfo.updateWorldInfo({id:r},{data:e,headers:{"Content-Type":"application/json"}})).data}catch(t){throw console.error(`Failed to update world info ${r}:`,t),t}}async deleteWorldInfo(r){try{await l.adminWorldInfo.deleteWorldInfo({id:r})}catch(e){throw console.error(`Failed to delete world info ${r}:`,e),e}}async associateWithCharacter(r,e,t){try{const y=e===null?"null":e,R={};e===null&&t&&(R.targetCharacterId=t),await l.adminWorldInfo.associateWithCharacter({id:r,characterId:y},{data:R,headers:{"Content-Type":"application/json"}})}catch(y){throw console.error(`Failed to associate world info ${r} with character ${e}:`,y),y}}async associateWithStory(r,e){try{await l.adminWorldInfo.associateWithStory({id:r,storyId:e})}catch(t){throw console.error(`Failed to associate world info ${r} with story ${e}:`,t),t}}async associateWithVirtualModel(r,e){try{return(await l.adminWorldInfo.associateWithVirtualModel({id:r,virtualModelId:e})).data}catch(t){throw console.error(`Failed to associate world info ${r} with virtual model ${e}:`,t),t}}async unbindFromVirtualModel(r){return this.associateWithVirtualModel(r,"null")}async createWorldInfoEntry(r,e){try{return(await l.adminWorldInfo.createWorldInfoEntry({id:r,createWorldInfoEntryRequestDto:e})).data}catch(t){throw console.error(`Failed to create world info entry for world info ${r}:`,t),t}}async getWorldInfoEntries(r){try{return(await l.adminWorldInfo.getWorldInfoEntries({id:r})).data}catch(e){throw console.error(`Failed to get entries for world info ${r}:`,e),e}}async updateWorldInfoEntry(r,e,t){try{return(await l.adminWorldInfo.updateWorldInfoEntry({id:r,entryId:e},{data:t,headers:{"Content-Type":"application/json"}})).data}catch(y){throw console.error(`Failed to update entry ${e} for world info ${r}:`,y),y}}async deleteWorldInfoEntry(r,e){try{await l.adminWorldInfo.deleteWorldInfoEntry({id:r,entryId:e})}catch(t){throw console.error(`Failed to delete entry ${e} for world info ${r}:`,t),t}}async testActivation(){try{await l.adminWorldInfo.testActivation()}catch(r){throw console.error("Failed to test world info activation:",r),r}}async importWorldInfo(r){try{return(await l.adminWorldInfo.importWorldInfo({importWorldInfoRequestDto:r})).data}catch(e){throw console.error("Failed to import world info:",e),e}}}nr=ur;[ir,ar]=cr(nr,[tr,tr.Singleton],[],1).c;ar();const yr=new ir;export{yr as W};
