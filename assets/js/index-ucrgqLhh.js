import{u as y,j as e,M as o,I as f,r as a}from"./index-D55vL5wO.js";import{g as E,d as M}from"./menu-DcIsQ03h.js";import{B as T}from"./Button-liRRJ1S-.js";import{C}from"./CreateButton-Bj9Clfnt.js";import{E as I,D as F}from"./EditButton-BAmy2aRC.js";import{R}from"./RefreshButton-Bl5dqSsT.js";import"./react-Dz_Dwpfc.js";import{S}from"./SearchContainer-ZPglRyAr.js";import{u as b,a as k,S as A}from"./useTable-Dau28hZJ.js";import{P as r}from"./Permission-QZE47TAA.js";import{w as i,q as D,F as w,k as B}from"./antd-CXRY_8Ve.js";import"./echarts-C9Czxobr.js";import"./useWindowSize-DSNN33pu.js";import"./useMutation-D3lCQUnz.js";import"./usePageTransfer-BQQRFyIY.js";function V(){const{t}=y(),{listContainerProps:m,tableScrollY:d}=b(),{tableProps:p,isLoading:c,isDeleting:u,handleReset:x,handleCreate:l,handleEdit:h,handleDelete:g}=k({key:"menu",cacheEnabled:!0,dataStaleTime:1e3*60*10,pagination:!1,listApiFn:E,deleteApiFn:M,scrollY:d,columns:[{title:t("page.systemMenu.title"),dataIndex:"title"},{title:t("page.systemMenu.type"),dataIndex:"type",render:s=>s===o.DIRECTORY?e.jsx(i,{children:t("page.systemMenu.directory")}):s===o.MENU?e.jsx(i,{color:"blue",children:t("page.systemMenu.menu")}):e.jsx(i,{color:"cyan",children:t("page.systemMenu.feature")})},{title:t("page.systemMenu.icon"),dataIndex:"icon",render:s=>s?e.jsx(f,{icon:s}):null},{title:t("page.systemMenu.path"),dataIndex:"path"},{title:t("page.systemMenu.code"),dataIndex:"code"},{title:t("page.systemMenu.sort"),dataIndex:"sort"},{title:t("page.systemMenu.isShow"),dataIndex:"isShow",render:s=>s?e.jsx(i,{color:"success",children:t("page.systemMenu.show")}):e.jsx(i,{color:"error",children:t("page.systemMenu.hidden")})},{title:t("common.actions"),key:"actions",fixed:"right",width:150,render:(s,n)=>e.jsxs(e.Fragment,{children:[e.jsx(r,{permission:a.CREATE,children:n.type!==o.FEATURE&&e.jsx(T,{icon:"icon-park-outline:tree-diagram",type:"text",size:"small",onClick:()=>l(n)})}),e.jsx(r,{permission:a.UPDATE,children:e.jsx(I,{type:"text",size:"small",noText:!0,onClick:()=>h(n,n)})}),e.jsx(r,{permission:a.DELETE,children:(!n.children||n.children.length===0)&&e.jsx(F,{type:"text",size:"small",noText:!0,loading:u,onConfirm:()=>g(n.id)})})]})}]}),j=e.jsx(w,{colon:!1,children:e.jsx(S,{actions:e.jsxs(e.Fragment,{children:[e.jsx(R,{loading:c,onClick:x}),e.jsx(B,{type:"vertical"}),e.jsx(r,{permission:a.CREATE,children:e.jsx(C,{onClick:()=>l({id:null})})})]})})});return e.jsx(A,{...m,searchForm:j,children:e.jsx(D,{...p})})}export{V as default};
