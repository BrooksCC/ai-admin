import{j as e,u as p,M as l}from"./index-Cvcm6e8Y.js";import{c as N,e as f,u as h}from"./role-BnZwK54S.js";import"./react-DR1zDSRy.js";import{S as b}from"./SaveButton-B1M3puxA.js";import{F as x}from"./FormContainer-BhcoiyeV.js";import{u as y}from"./useForm-B1PIwpH8.js";import{u as c}from"./useMutation-CjADi6xa.js";import{e as g}from"./api-C9EfbHM7.js";import{d,F as s,I as t}from"./antd-CDJKHjm9.js";import{e as v}from"./menu-BTU5gLSM.js";import"./echarts-C5AzJBXJ.js";import"./Button-CLr_gZa1.js";import"./useWindowSize-ncjCtajF.js";function E({value:r=[],onChange:n}){const{data:m}=c({queryKey:["apiPermission"],queryFn:()=>g()}),i=(m==null?void 0:m.map(o=>({label:o.title,value:o.code})))||[];return e.jsxDEV("div",{children:e.jsxDEV(d,{value:r,onChange:n,options:i,mode:"multiple",allowClear:!0},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/components/ApiPermissionSelect.tsx",lineNumber:24,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/components/ApiPermissionSelect.tsx",lineNumber:23,columnNumber:5},this)}function u({type:r,value:n=[],onChange:m}){const{data:i}=c({queryKey:["menuPermission",r],queryFn:()=>v(r)}),o=(i==null?void 0:i.map(a=>({label:a.title,value:a.code})))||[];return e.jsxDEV("div",{children:e.jsxDEV(d,{value:n,onChange:m,options:o,mode:"multiple",allowClear:!0},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/components/MenuPermissionSelect.tsx",lineNumber:27,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/components/MenuPermissionSelect.tsx",lineNumber:26,columnNumber:5},this)}function C(){const{t:r}=p(),{title:n,formProps:m,isLoading:i,handleSubmit:o}=y({key:"role",getApiFn:N,createApiFn:f,updateApiFn:h,initialValues:{name:null,code:null,description:null,menuPermissions:[],featurePermissions:[],apiPermissions:[]}}),a={name:[{required:!0,message:r("page.systemRole.rules.name")}],code:[{required:!0,message:r("page.systemRole.rules.code")}]};return e.jsxDEV(x,{title:n,children:e.jsxDEV(s,{...m,children:[e.jsxDEV(s.Item,{label:r("page.systemUser.username"),name:"name",rules:a.name,children:e.jsxDEV(t,{},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/[mode]/[id].tsx",lineNumber:51,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/[mode]/[id].tsx",lineNumber:46,columnNumber:9},this),e.jsxDEV(s.Item,{label:r("page.systemRole.code"),name:"code",rules:a.code,children:e.jsxDEV(t,{},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/[mode]/[id].tsx",lineNumber:59,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/[mode]/[id].tsx",lineNumber:54,columnNumber:9},this),e.jsxDEV(s.Item,{label:r("page.systemRole.description"),name:"description",children:e.jsxDEV(t,{},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/[mode]/[id].tsx",lineNumber:66,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/[mode]/[id].tsx",lineNumber:62,columnNumber:9},this),e.jsxDEV(s.Item,{label:r("page.systemRole.menuPermissions"),name:"menuPermissions",children:e.jsxDEV(u,{type:l.MENU},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/[mode]/[id].tsx",lineNumber:73,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/[mode]/[id].tsx",lineNumber:69,columnNumber:9},this),e.jsxDEV(s.Item,{label:r("page.systemRole.featurePermissions"),name:"featurePermissions",children:e.jsxDEV(u,{type:l.FEATURE},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/[mode]/[id].tsx",lineNumber:80,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/[mode]/[id].tsx",lineNumber:76,columnNumber:9},this),e.jsxDEV(s.Item,{label:r("page.systemRole.apiPermissions"),name:"apiPermissions",children:e.jsxDEV(E,{},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/[mode]/[id].tsx",lineNumber:87,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/[mode]/[id].tsx",lineNumber:83,columnNumber:9},this),e.jsxDEV(s.Item,{wrapperCol:{offset:12,span:8},children:e.jsxDEV(b,{type:"primary",loading:i,onClick:o},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/[mode]/[id].tsx",lineNumber:91,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/[mode]/[id].tsx",lineNumber:90,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/[mode]/[id].tsx",lineNumber:45,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/system/role/[mode]/[id].tsx",lineNumber:44,columnNumber:5},this)}export{C as default};
