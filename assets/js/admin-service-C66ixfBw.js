import{D as te,S as o}from"./index-PonfSQbM.js";var ae;let ne;function ce(a,r,e,t,i,P){var F,c,u,w,R,U,M,ie=Symbol.metadata||Symbol.for("Symbol.metadata"),V=Object.defineProperty,k=Object.create,x=[k(null),k(null)],G=r.length;function T(n,g,h){return function(s,d){g&&(d=s,s=a);for(var v=0;v<n.length;v++)d=n[v].apply(s,h?[d]:[]);return h?d:s}}function S(n,g,h,s){if(typeof n!="function"&&(s||n!==void 0))throw new TypeError(g+" must "+(h||"be")+" a function"+(s?"":" or undefined"));return n}function J(n,g,h,s,d,v,b,y,f,A,Q){function O(p){if(!Q(p))throw new TypeError("Attempted to access private element on non-instance")}var W=[].concat(g[0]),X=g[3],$=!b,q=d===1,Y=d===3,Z=d===4,j=d===2;function E(p,C,ee){return function(B,re){return C&&(re=B,B=n),ee&&ee(B),l[p].call(B,re)}}if(!$){var l={},z=[],D=Y?"get":Z||q?"set":"value";if(f?(A||q?l={get:oe(function(){return X(this)},s,"get"),set:function(p){g[4](this,p)}}:l[D]=X,A||oe(l[D],s,j?"":D)):A||(l=Object.getOwnPropertyDescriptor(n,s)),!A&&!f){if((c=x[+y][s])&&(c^d)!=7)throw Error("Decorating two elements with the same name ("+l[D].name+") is not supported yet");x[+y][s]=d<3?1:d}}for(var m=n,_=W.length-1;_>=0;_-=h?2:1){var H=S(W[_],"A decorator","be",!0),N=h?W[_-1]:void 0,K={},I={kind:["field","accessor","method","getter","setter","class"][d],name:s,metadata:F,addInitializer:(function(p,C){if(p.v)throw new TypeError("attempted to call addInitializer after decoration was finished");S(C,"An initializer","be",!0),v.push(C)}).bind(null,K)};if($)c=H.call(N,m,I),K.v=1,S(c,"class decorators","return")&&(m=c);else if(I.static=y,I.private=f,c=I.access={has:f?Q.bind():function(p){return s in p}},Z||(c.get=f?j?function(p){return O(p),l.value}:E("get",0,O):function(p){return p[s]}),j||Y||(c.set=f?E("set",0,O):function(p,C){p[s]=C}),m=H.call(N,q?{get:l.get,set:l.set}:l[D],I),K.v=1,q){if(typeof m=="object"&&m)(c=S(m.get,"accessor.get"))&&(l.get=c),(c=S(m.set,"accessor.set"))&&(l.set=c),(c=S(m.init,"accessor.init"))&&z.unshift(c);else if(m!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else S(m,(A?"field":"method")+" decorators","return")&&(A?z.unshift(m):l[D]=m)}return d<2&&b.push(T(z,y,1),T(v,y,0)),A||$||(f?q?b.splice(-1,0,E("get",y),E("set",y)):b.push(j?l[D]:S.call.bind(l[D])):V(n,s,l)),m}function L(n){return V(n,ie,{configurable:!0,enumerable:!0,value:F})}return F=k(F??null),R=[],U=function(n){n&&R.push(T(n))},M=function(n,g){for(var h=0;h<e.length;h++){var s=e[h],d=s[1],v=7&d;if((8&d)==n&&!v==g){var b=s[2],y=!!s[3],f=16&d;J(n?a:a.prototype,s,f,y?"#"+b:de(b),v,v<2?[]:n?w=w||[]:u=u||[],R,!!n,y,g,n&&y?function(A){return ue(A)===a}:i)}}},M(8,0),M(0,0),M(8,1),M(0,1),U(u),U(w),c=R,G||L(a),{e:c,get c(){var n=[];return G&&[L(a=J(a,[r],t,a.name,5,n)),T(n,1)]}}}function de(a){var r=le(a,"string");return typeof r=="symbol"?r:r+""}function le(a,r){if(typeof a!="object"||!a)return a;var e=a[Symbol.toPrimitive];if(e!==void 0){var t=e.call(a,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(a)}function oe(a,r,e){typeof r=="symbol"&&(r=(r=r.description)?"["+r+"]":"");try{Object.defineProperty(a,"name",{configurable:!0,value:e?e+" "+r:r})}catch{}return a}function ue(a){if(Object(a)!==a)throw TypeError("right-hand side of 'in' should be an object, got "+(a!==null?typeof a:"null"));return a}let se;class pe{constructor(){this.adminApi=o.admin}async adminDeposit(r){try{await o.admin.adminDeposit({adminDepositRequestDto:r})}catch(e){throw console.error("Failed to deposit:",e),e}}async adminWithdraw(r){try{await o.admin.adminWithdraw({adminWithdrawRequestDto:r})}catch(e){throw console.error("Failed to withdraw:",e),e}}async assignRole(r,e){try{await o.admin.assignRole({userId:r,assignRoleDto:e})}catch(t){throw console.error("Failed to assign role:",t),t}}async auditCharacter(r,e,t){try{return(await this.adminApi.auditCharacter({id:r,userId:e,auditCharacterRequestDto:t})).data}catch(i){throw console.error("Failed to audit character:",i),i}}async checkProviderHealth(r){try{return(await o.admin.checkProviderHealth({id:r})).data}catch(e){throw console.error("Failed to check provider health:",e),e}}async createModel(r){try{return(await o.admin.createModel({createModelRequestDto:r})).data}catch(e){throw console.error("Failed to create model:",e),e}}async createModelParameter(r){try{return(await o.admin.createModelParameter({createModelParameterRequestDto:r})).data}catch(e){throw console.error("Failed to create model parameter:",e),e}}async createModelPricing(r){try{return(await o.admin.createModelPricing({createModelPricingDto:r})).data}catch(e){throw console.error("Failed to create model pricing:",e),e}}async createProvider(r){try{return(await o.admin.createProvider({createProviderRequestDto:r})).data}catch(e){throw console.error("Failed to create provider:",e),e}}async deleteModel(r){try{return(await o.admin.deleteModel({id:r})).data}catch(e){throw console.error("Failed to delete model:",e),e}}async deleteModelParameter(r){try{await o.admin.deleteModelParameter({id:r})}catch(e){throw console.error("Failed to delete model parameter:",e),e}}async deleteModelPricing(r,e){try{await o.admin.deleteModelPricing({modelId:r,id:e})}catch(t){throw console.error("Failed to delete model pricing:",t),t}}async deleteProvider(r){try{return(await o.admin.deleteProvider({id:r})).data}catch(e){throw console.error("Failed to delete provider:",e),e}}async getAllCharacters(r,e){try{return(await o.admin.getAllCharacters({page:r,limit:e})).data}catch(t){throw console.error("Failed to get all characters:",t),t}}async getAllModels(){try{return(await o.admin.getAllModels()).data}catch(r){throw console.error("Failed to get all models:",r),r}}async getAllParameters(r,e,t){try{return(await o.admin.getAllParameters({page:r,limit:e,modelId:t||""})).data}catch(i){throw console.error("Failed to get all parameters:",i),i}}async getAllProviders(){try{return(await o.admin.getAllProviders()).data}catch(r){throw console.error("Failed to get all providers:",r),r}}async getCommissionSettings(){try{return(await o.admin.getCommissionSettings()).data}catch(r){throw console.error("Failed to get commission settings:",r),r}}async getComprehensiveInviteDataByUserId(r){try{return(await o.admin.getComprehensiveInviteDataByUserId({userId:r})).data}catch(e){throw console.error("Failed to get comprehensive invite data:",e),e}}async getModelById(r){try{return(await o.admin.getModelById({id:r})).data}catch(e){throw console.error("Failed to get model by id:",e),e}}async getModelParameter(r){try{return(await o.admin.getModelParameter({id:r})).data}catch(e){throw console.error("Failed to get model parameter:",e),e}}async getModelPricings(r){try{return(await o.admin.getModelPricings({modelId:r})).data}catch(e){throw console.error("Failed to get model pricings:",e),e}}async getProvider(r){try{return(await o.admin.getProvider({id:r})).data}catch(e){throw console.error("Failed to get provider:",e),e}}async getReferralTreeByUserId(r){try{return(await o.admin.getReferralTreeByUserId({userId:r})).data}catch(e){throw console.error("Failed to get referral tree:",e),e}}async getUserById(r){try{return(await o.admin.getUserById({userId:r})).data}catch(e){throw console.error("Failed to get user by id:",e),e}}async getUserTransactions(r,e,t,i={}){try{return(await o.admin.getUserTransactions({userId:r,page:e,limit:t,...i})).data}catch(P){throw console.error("Failed to get user transactions:",P),P}}async getUserWallet(r){try{return(await o.admin.getUserWallet({userId:r})).data}catch(e){throw console.error("Failed to get user wallet:",e),e}}async searchUsers(r,e,t={}){try{return(await o.admin.searchUsers({page:r,limit:e,...t})).data}catch(i){throw console.error("Failed to search users:",i),i}}async setCommissionSettings(r){try{await o.admin.setCommissionSettings({commissionSettingsRequestDto:r})}catch(e){throw console.error("Failed to set commission settings:",e),e}}async setUserCommissionRates(r){try{await o.admin.setUserCommissionRates({setUserCommissionRatesRequestDto:r})}catch(e){throw console.error("Failed to set user commission rates:",e),e}}async updateCharacter(r,e){try{return(await o.admin.updateCharacter({id:r,updateCharacterRequestDto:e})).data}catch(t){throw console.error("Failed to update character:",t),t}}async updateModel(r,e){try{return(await o.admin.updateModel({id:r,createModelRequestDto:e})).data}catch(t){throw console.error("Failed to update model:",t),t}}async updateModelParameter(r,e){try{return(await o.admin.updateModelParameter({id:r,updateModelParameterRequestDto:e})).data}catch(t){throw console.error("Failed to update model parameter:",t),t}}async updateModelPricing(r,e){try{return(await o.admin.updateModelPricing({id:r,updateModelPricingDto:e})).data}catch(t){throw console.error("Failed to update model pricing:",t),t}}async updateModelStatus(r,e){try{return(await o.admin.updateModelStatus({id:r,updateStatusRequestDto:e})).data}catch(t){throw console.error("Failed to update model status:",t),t}}async updateProvider(r,e){try{return(await o.admin.updateProvider({id:r,createProviderRequestDto:e})).data}catch(t){throw console.error("Failed to update provider:",t),t}}async updateProviderStatus(r,e){try{return(await o.admin.updateProviderStatus({id:r,updateStatusRequestDto:e})).data}catch(t){throw console.error("Failed to update provider status:",t),t}}async updateStatus(r){try{return(await o.admin.updateStatus({id:r})).data}catch(e){throw console.error("Failed to update status:",e),e}}async updateVisibility(r){try{return(await o.admin.updateVisibility({id:r})).data}catch(e){throw console.error("Failed to update visibility:",e),e}}async getProviderPricings(r){try{return(await o.admin.getProviderPricings({providerId:r})).data}catch(e){throw console.error("Failed to get provider pricings:",e),e}}async createSetting(r){try{return(await o.admin.createSetting({createSettingDto:r})).data}catch(e){throw console.error("Failed to create setting:",e),e}}async getAllSettings(r){try{return(await o.admin.getAllSettings({category:r||""})).data}catch(e){throw console.error("Failed to get all settings:",e),e}}async updateSetting(r,e){try{return(await o.admin.updateSetting({key:r,updateSettingDto:e})).data}catch(t){throw console.error("Failed to update setting:",t),t}}async reloadSettings(){try{await o.admin.reloadSettings()}catch(r){throw console.error("Failed to reload settings:",r),r}}async createActivity(r){try{return(await this.adminApi.create({adminCreateActivityRequestDto:r})).data}catch(e){throw console.error("Failed to create activity:",e),e}}async findAllActivities(r,e,t,i){var F,c;console.log("AdminService.findAllActivities 开始请求, 参数:",{page:r,limit:e,status:t,type:i});const P=Date.now();try{const u={page:r,limit:e};t&&(u.status=t,console.log(`添加状态过滤条件: ${t}`)),i&&(u.type=i,console.log(`添加类型过滤条件: ${i}`)),console.log("调用 API 参数:",u);const w=await Promise.race([this.adminApi.findAll(u),new Promise((U,M)=>setTimeout(()=>M(new Error("API请求超时 - 15秒")),15e3))]),R=Date.now();return console.log(`AdminService.findAllActivities 请求成功, 耗时: ${R-P}ms, 返回数据条数: ${((c=(F=w==null?void 0:w.data)==null?void 0:F.items)==null?void 0:c.length)||0}`),w.data}catch(u){const w=Date.now();throw console.error(`AdminService.findAllActivities 请求失败, 耗时: ${w-P}ms:`,u),u instanceof Error&&console.error("错误详情:",{name:u.name,message:u.message,stack:u.stack}),u}}async findOneActivity(r){try{return(await this.adminApi.findOne({activityId:r})).data}catch(e){throw console.error("Failed to find activity:",e),e}}async removeActivity(r){try{await this.adminApi.remove({activityId:r})}catch(e){throw console.error("Failed to remove activity:",e),e}}async updateActivity(r,e){try{return(await this.adminApi.update({activityId:r,adminUpdateActivityRequestDto:e})).data}catch(t){throw console.error("Failed to update activity:",t),t}}async updateActivityStatus(r,e){try{return(await this.adminApi.update({activityId:r,adminUpdateActivityRequestDto:{status:e}})).data}catch(t){throw console.error("Failed to update activity status:",t),t}}}ae=pe;[se,ne]=ce(ae,[te,te.Singleton],[],1).c;ne();const he=new se;export{he as A};
