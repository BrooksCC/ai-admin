import{u as p,j as e,k as w}from"./index-BTOACoUX.js";import"./react-Dz_Dwpfc.js";import{S as c}from"./SaveButton-wAWE0oC5.js";import{F as P}from"./FormContainer-ChY9p3wQ.js";import{f,a as g}from"./useForm-GXdTfo8E.js";import{F as s,A as C,I as n}from"./antd-DpJIrhNI.js";import"./echarts-C9Czxobr.js";import"./Button-CUh0FXTm.js";import"./useWindowSize-DSNN33pu.js";import"./useMutation-0lMB1gFM.js";function S(){const{t:r}=p(),[o]=s.useForm(),{message:m}=C.useApp(),d=(l,t)=>{const u=o.getFieldValue("newPassword");return t!==u?Promise.reject(new Error(r("page.userCenter.rules.passwordNotMatch"))):Promise.resolve()},a={oldPassword:[{required:!0,message:r("page.userCenter.rules.oldPassword")}],newPassword:[{required:!0,message:r("page.userCenter.rules.newPassword")},{min:6,max:16,message:r("page.userCenter.rules.passwordLength")}],confirmPassword:[{required:!0,message:r("page.userCenter.rules.confirmPassword")},{validator:d,trigger:"blur"}]},i=async l=>{try{await w(l),m.success(r("page.userCenter.success")),o.resetFields()}catch(t){console.error(t)}};return e.jsx(P,{children:e.jsxs(s,{form:o,initialValues:{oldPassword:"",newPassword:"",confirmPassword:""},labelCol:g,wrapperCol:f,autoComplete:"off",onFinish:i,children:[e.jsx(s.Item,{label:r("page.userCenter.oldPassword"),name:"oldPassword",rules:a.oldPassword,children:e.jsx(n.Password,{})}),e.jsx(s.Item,{label:r("page.userCenter.newPassword"),name:"newPassword",rules:a.newPassword,children:e.jsx(n.Password,{})}),e.jsx(s.Item,{label:r("page.userCenter.confirmPassword"),name:"confirmPassword",rules:a.confirmPassword,children:e.jsx(n.Password,{})}),e.jsx(s.Item,{wrapperCol:{offset:12,span:8},children:e.jsx(c,{type:"primary",htmlType:"submit"})})]})})}export{S as default};
