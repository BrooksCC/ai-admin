import{u as U,j as e}from"./index-BbKG2Rqf.js";import{r as d,u as M}from"./react-DR1zDSRy.js";import{A as c}from"./admin-service-QVTvGNHz.js";import{B as _}from"./BatchDeleteButton-BVJlt-8s.js";import{C as q}from"./CreateButton-RMWM_i2V.js";import{D as z}from"./DeleteButton-BwAH68d8.js";import{E as G,S as $}from"./SearchContainer-B90oG6_L.js";import{S as Y,a as p,b as K,R as H}from"./SearchRow-dmYhgDr6.js";import{u as J,a as Q,S as W}from"./useTable-EG0h6_UA.js";import{A as X,F as n,B as h,f as x,I as l,d as a,S as Z,b as k,c as ee,E,M as re}from"./antd-CDJKHjm9.js";import"./echarts-C5AzJBXJ.js";import"./Button-qXsqea8F.js";import"./useWindowSize-ncjCtajF.js";import"./useMutation-B3kwDoes.js";import"./usePageTransfer-CPlkINmr.js";function ve(){const{t:r}=U(),w=d.useRef(null),{message:s}=X.useApp(),D=M(),[V,t]=d.useState(!1),[u]=n.useForm(),[j,N]=d.useState(!1);d.useEffect(()=>{const i=localStorage.getItem("user.token");console.log("当前token状态:",i?"已存在":"不存在",i?`${i.substring(0,15)}...`:"")},[]);async function I({page:i,pageSize:o}){console.log("正在请求供应商列表...",{page:i,pageSize:o});try{const m=await c.getAllProviders();return console.log("供应商列表获取成功:",m),{list:m,total:m.length}}catch(m){return console.error("获取供应商列表失败:",m),m instanceof Error?s.error(`获取供应商列表失败: ${m.message}`):s.error("获取供应商列表失败: 未知错误"),{list:[],total:0}}}const{listContainerProps:y,tableScrollY:v}=J(),{form:C,tableProps:A,isLoading:S,selectedIsEmpty:O,selectedCount:P,handleReset:f}=Q({key:"provider-list",pagination:!0,listApiFn:I,scrollY:v,selectable:!0,formInitialValues:{name:null,providerType:null,status:null},columns:[{title:r("供应商ID"),dataIndex:"id",render:(i,o)=>e.jsxDEV(h,{type:"link",size:"small",style:{padding:0,height:"auto",fontSize:"12px"},onClick:()=>g(o),children:i},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:97,columnNumber:7},this)},{title:r("供应商名称"),dataIndex:"name"},{title:r("描述"),dataIndex:"description",ellipsis:!0},{title:r("供应商类型"),dataIndex:"providerType",render:i=>e.jsxDEV(x,{color:"processing",children:i},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:112,columnNumber:26},this)},{title:r("认证类型"),dataIndex:"authType",render:i=>e.jsxDEV(x,{color:"blue",children:i},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:117,columnNumber:26},this)},{title:r("API基础URL"),dataIndex:"apiBaseUrl",ellipsis:!0},{title:r("状态"),dataIndex:"status",render:i=>e.jsxDEV(x,{color:i==="ACTIVE"?"success":"warning",children:i},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:123,columnNumber:26},this)},{title:r("创建时间"),dataIndex:"createdAt",render:i=>new Date(i).toLocaleString()},{title:r("操作"),key:"actions",fixed:"right",width:120,render:(i,o)=>e.jsxDEV(e.Fragment,{children:[e.jsxDEV(G,{type:"text",size:"small",noText:!0,onClick:()=>g(o)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:137,columnNumber:13},this),e.jsxDEV(z,{type:"text",size:"small",noText:!0,onConfirm:()=>T(o.id)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:138,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:136,columnNumber:7},this)}]}),b=()=>{f()};function g(i){D(`/modelprovider/${i.id}/edit`)}async function T(i){try{await c.deleteProvider(i),s.success(r("删除成功")),b()}catch(o){console.error("删除供应商失败:",o),s.error(r("删除失败"))}}const R=e.jsxDEV(n,{ref:w,form:C,colon:!1,autoComplete:"off",onFinish:()=>{},children:e.jsxDEV($,{actions:e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Z,{children:[e.jsxDEV(K,{loading:S},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:182,columnNumber:15},this),e.jsxDEV(H,{onClick:f},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:183,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:181,columnNumber:13},this),e.jsxDEV(k,{type:"vertical"},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:185,columnNumber:13},this),e.jsxDEV(_,{disabled:O,count:P,onConfirm:()=>{}},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:186,columnNumber:13},this),e.jsxDEV(k,{type:"vertical"},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:191,columnNumber:13},this),e.jsxDEV(q,{onClick:()=>F()},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:192,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:180,columnNumber:7},this),children:e.jsxDEV(Y,{children:[e.jsxDEV(p,{name:"name",label:r("供应商名称"),children:e.jsxDEV(l,{},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:198,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:197,columnNumber:11},this),e.jsxDEV(p,{name:"providerType",label:r("供应商类型"),children:e.jsxDEV(a,{allowClear:!0,children:[e.jsxDEV(a.Option,{value:"openai",children:r("OpenAI")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:202,columnNumber:15},this),e.jsxDEV(a.Option,{value:"anthropic",children:r("Anthropic")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:203,columnNumber:15},this),e.jsxDEV(a.Option,{value:"cohere",children:r("Cohere")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:204,columnNumber:15},this),e.jsxDEV(a.Option,{value:"mistralai",children:r("Mistral")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:205,columnNumber:15},this),e.jsxDEV(a.Option,{value:"deepseek",children:r("Deepseek")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:206,columnNumber:15},this),e.jsxDEV(a.Option,{value:"google",children:r("Google")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:207,columnNumber:15},this),e.jsxDEV(a.Option,{value:"custom",children:r("自定义")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:208,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:201,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:200,columnNumber:11},this),e.jsxDEV(p,{name:"status",label:r("状态"),children:e.jsxDEV(a,{allowClear:!0,children:[e.jsxDEV(a.Option,{value:"ACTIVE",children:r("活跃")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:213,columnNumber:15},this),e.jsxDEV(a.Option,{value:"INACTIVE",children:r("不活跃")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:214,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:212,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:211,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:196,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:178,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:171,columnNumber:3},this);function F(){u.resetFields(),t(!0)}async function L(){try{const i=await u.validateFields();N(!0),await c.createProvider(i),s.success(r("创建成功")),t(!1),b()}catch(i){console.error("创建供应商失败:",i),s.error(r("创建失败"))}finally{N(!1)}}const B=i=>e.jsxDEV(n,{form:i,layout:"vertical",autoComplete:"off",children:[e.jsxDEV(n.Item,{name:"name",label:r("供应商名称"),rules:[{required:!0,message:r("请输入供应商名称")}],children:e.jsxDEV(l,{placeholder:r("请输入供应商名称")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:258,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:253,columnNumber:7},this),e.jsxDEV(n.Item,{name:"description",label:r("供应商描述"),children:e.jsxDEV(l.TextArea,{placeholder:r("请输入供应商描述")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:265,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:261,columnNumber:7},this),e.jsxDEV(n.Item,{name:"websiteUrl",label:r("官网URL"),children:e.jsxDEV(l,{placeholder:r("请输入官网URL")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:272,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:268,columnNumber:7},this),e.jsxDEV(n.Item,{name:"apiDocUrl",label:r("API文档URL"),children:e.jsxDEV(l,{placeholder:r("请输入API文档URL")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:279,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:275,columnNumber:7},this),e.jsxDEV(n.Item,{name:"apiKey",label:r("API密钥"),rules:[{required:!0,message:r("请输入API密钥")}],children:e.jsxDEV(l.Password,{placeholder:r("请输入API密钥")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:287,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:282,columnNumber:7},this),e.jsxDEV(n.Item,{name:"apiBaseUrl",label:r("API基础URL"),children:e.jsxDEV(l,{placeholder:r("请输入API基础URL")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:294,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:290,columnNumber:7},this),e.jsxDEV(n.Item,{name:"authType",label:r("认证类型"),rules:[{required:!0,message:r("请选择认证类型")}],initialValue:"api_key",children:e.jsxDEV(a,{children:[e.jsxDEV(a.Option,{value:"api_key",children:r("API密钥")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:304,columnNumber:11},this),e.jsxDEV(a.Option,{value:"oauth",children:r("OAuth")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:305,columnNumber:11},this),e.jsxDEV(a.Option,{value:"custom",children:r("自定义")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:306,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:303,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:297,columnNumber:7},this),e.jsxDEV(n.Item,{name:"providerType",label:r("供应商类型"),rules:[{required:!0,message:r("请选择供应商类型")}],initialValue:"custom",children:e.jsxDEV(a,{children:[e.jsxDEV(a.Option,{value:"openai",children:r("OpenAI")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:317,columnNumber:11},this),e.jsxDEV(a.Option,{value:"anthropic",children:r("Anthropic")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:318,columnNumber:11},this),e.jsxDEV(a.Option,{value:"cohere",children:r("Cohere")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:319,columnNumber:11},this),e.jsxDEV(a.Option,{value:"mistralai",children:r("Mistral")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:320,columnNumber:11},this),e.jsxDEV(a.Option,{value:"deepseek",children:r("Deepseek")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:321,columnNumber:11},this),e.jsxDEV(a.Option,{value:"google",children:r("Google")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:322,columnNumber:11},this),e.jsxDEV(a.Option,{value:"custom",children:r("自定义")},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:323,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:316,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:310,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:248,columnNumber:3},this);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(W,{...y,searchForm:R,children:e.jsxDEV(ee,{...A,locale:{emptyText:e.jsxDEV(E,{description:r("暂无供应商数据"),image:E.PRESENTED_IMAGE_SIMPLE},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:335,columnNumber:24},this)},scroll:{x:1500,y:v}},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:332,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:331,columnNumber:7},this),e.jsxDEV(re,{title:r("创建供应商"),open:V,onCancel:()=>t(!1),footer:[e.jsxDEV(h,{onClick:()=>t(!1),children:r("取消")},"cancel",!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:347,columnNumber:9},this),e.jsxDEV(h,{type:"primary",loading:j,onClick:L,children:r("确定")},"submit",!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:350,columnNumber:9},this)],width:600,children:B(u)},void 0,!1,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:342,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/work/pure-admin-react/pure-admin-react/src/pages/modelprovider/index.tsx",lineNumber:330,columnNumber:5},this)}export{ve as default};
