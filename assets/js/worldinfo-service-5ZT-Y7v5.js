import{D as tr,d}from"./index-CLsFyRhf.js";var nr;let ar;function cr(o,r,e,t,h,R){var S,s,A,O,B,z,E,sr=Symbol.metadata||Symbol.for("Symbol.metadata"),L=Object.defineProperty,K=Object.create,M=[K(null),K(null)],Q=r.length;function C(n,p,u){return function(a,i){p&&(i=a,a=o);for(var w=0;w<n.length;w++)i=n[w].apply(a,u?[i]:[]);return u?i:a}}function v(n,p,u,a){if(typeof n!="function"&&(a||n!==void 0))throw new TypeError(p+" must "+(u||"be")+" a function"+(a?"":" or undefined"));return n}function U(n,p,u,a,i,w,I,y,g,m,X){function q(l){if(!X(l))throw new TypeError("Attempted to access private element on non-instance")}var x=[].concat(p[0]),Y=p[3],k=!I,$=i===1,Z=i===3,H=i===4,D=i===2;function F(l,b,rr){return function(_,er){return b&&(er=_,_=n),rr&&rr(_),c[l].call(_,er)}}if(!k){var c={},G=[],W=Z?"get":H||$?"set":"value";if(g?(m||$?c={get:or(function(){return Y(this)},a,"get"),set:function(l){p[4](this,l)}}:c[W]=Y,m||or(c[W],a,D?"":W)):m||(c=Object.getOwnPropertyDescriptor(n,a)),!m&&!g){if((s=M[+y][a])&&(s^i)!=7)throw Error("Decorating two elements with the same name ("+c[W].name+") is not supported yet");M[+y][a]=i<3?1:i}}for(var f=n,T=x.length-1;T>=0;T-=u?2:1){var P=v(x[T],"A decorator","be",!0),N=u?x[T-1]:void 0,J={},j={kind:["field","accessor","method","getter","setter","class"][i],name:a,metadata:S,addInitializer:(function(l,b){if(l.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(b,"An initializer","be",!0),w.push(b)}).bind(null,J)};if(k)s=P.call(N,f,j),J.v=1,v(s,"class decorators","return")&&(f=s);else if(j.static=y,j.private=g,s=j.access={has:g?X.bind():function(l){return a in l}},H||(s.get=g?D?function(l){return q(l),c.value}:F("get",0,q):function(l){return l[a]}),D||Z||(s.set=g?F("set",0,q):function(l,b){l[a]=b}),f=P.call(N,$?{get:c.get,set:c.set}:c[W],j),J.v=1,$){if(typeof f=="object"&&f)(s=v(f.get,"accessor.get"))&&(c.get=s),(s=v(f.set,"accessor.set"))&&(c.set=s),(s=v(f.init,"accessor.init"))&&G.unshift(s);else if(f!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(f,(m?"field":"method")+" decorators","return")&&(m?G.unshift(f):c[W]=f)}return i<2&&I.push(C(G,y,1),C(w,y,0)),m||k||(g?$?I.splice(-1,0,F("get",y),F("set",y)):I.push(D?c[W]:v.call.bind(c[W])):L(n,a,c)),f}function V(n){return L(n,sr,{configurable:!0,enumerable:!0,value:S})}return S=K(S??null),B=[],z=function(n){n&&B.push(C(n))},E=function(n,p){for(var u=0;u<e.length;u++){var a=e[u],i=a[1],w=7&i;if((8&i)==n&&!w==p){var I=a[2],y=!!a[3],g=16&i;U(n?o:o.prototype,a,g,y?"#"+I:lr(I),w,w<2?[]:n?O=O||[]:A=A||[],B,!!n,y,p,n&&y?function(m){return fr(m)===o}:h)}}},E(8,0),E(0,0),E(8,1),E(0,1),z(A),z(O),s=B,Q||V(o),{e:s,get c(){var n=[];return Q&&[V(o=U(o,[r],t,o.name,5,n)),C(n,1)]}}}function lr(o){var r=dr(o,"string");return typeof r=="symbol"?r:r+""}function dr(o,r){if(typeof o!="object"||!o)return o;var e=o[Symbol.toPrimitive];if(e!==void 0){var t=e.call(o,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(o)}function or(o,r,e){typeof r=="symbol"&&(r=(r=r.description)?"["+r+"]":"");try{Object.defineProperty(o,"name",{configurable:!0,value:e?e+" "+r:r})}catch{}return o}function fr(o){if(Object(o)!==o)throw TypeError("right-hand side of 'in' should be an object, got "+(o!==null?typeof o:"null"));return o}let ir;class ur{async createWorldInfo(r){try{return(await d.adminWorldInfo.createWorldInfo({createWorldInfoRequestDto:r})).data}catch(e){throw console.error("Failed to create world info:",e),e}}async getWorldInfoById(r){try{return(await d.adminWorldInfo.getWorldInfoById({id:r})).data}catch(e){throw console.error(`Failed to get world info by id ${r}:`,e),e}}async searchWorldInfo(r){try{return(await d.adminWorldInfo.searchWorldInfo(r)).data}catch(e){throw console.error("Failed to search world info:",e),e}}async getWorldInfoBindings(r){try{return(await d.adminWorldInfo.getWorldInfoBindings({id:r})).data}catch(e){throw console.error(`Failed to get world info bindings for ${r}:`,e),e}}async getReverseBindings(r,e){try{return(await d.adminWorldInfo.getReverseBindings({id:r,entityType:e})).data}catch(t){throw console.error(`Failed to get reverse bindings for ${r} with entityType ${e}:`,t),t}}async getWorldInfosByCharacter(r){return this.getReverseBindings(r,"character")}async getWorldInfosByStory(r){return this.getReverseBindings(r,"story")}async updateWorldInfo(r,e){try{return(await d.adminWorldInfo.updateWorldInfo({id:r},{data:e,headers:{"Content-Type":"application/json"}})).data}catch(t){throw console.error(`Failed to update world info ${r}:`,t),t}}async deleteWorldInfo(r){try{await d.adminWorldInfo.deleteWorldInfo({id:r})}catch(e){throw console.error(`Failed to delete world info ${r}:`,e),e}}async associateWithCharacter(r,e,t){try{const h=e===null?"null":e,R={};e===null&&t&&(R.targetCharacterId=t),await d.adminWorldInfo.associateWithCharacter({id:r,characterId:h},{data:R,headers:{"Content-Type":"application/json"}})}catch(h){throw console.error(`Failed to associate world info ${r} with character ${e}:`,h),h}}async associateWithStory(r,e){try{await d.adminWorldInfo.associateWithStory({id:r,storyId:e})}catch(t){throw console.error(`Failed to associate world info ${r} with story ${e}:`,t),t}}async createWorldInfoEntry(r,e){try{return(await d.adminWorldInfo.createWorldInfoEntry({id:r,createWorldInfoEntryRequestDto:e})).data}catch(t){throw console.error(`Failed to create world info entry for world info ${r}:`,t),t}}async getWorldInfoEntries(r){try{return(await d.adminWorldInfo.getWorldInfoEntries({id:r})).data}catch(e){throw console.error(`Failed to get entries for world info ${r}:`,e),e}}async updateWorldInfoEntry(r,e,t){try{return(await d.adminWorldInfo.updateWorldInfoEntry({id:r,entryId:e},{data:t,headers:{"Content-Type":"application/json"}})).data}catch(h){throw console.error(`Failed to update entry ${e} for world info ${r}:`,h),h}}async deleteWorldInfoEntry(r,e){try{await d.adminWorldInfo.deleteWorldInfoEntry({id:r,entryId:e})}catch(t){throw console.error(`Failed to delete entry ${e} for world info ${r}:`,t),t}}async testActivation(){try{await d.adminWorldInfo.testActivation()}catch(r){throw console.error("Failed to test world info activation:",r),r}}}nr=ur;[ir,ar]=cr(nr,[tr,tr.Singleton],[],1).c;ar();const hr=new ir;export{hr as W};
