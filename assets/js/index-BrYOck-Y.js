import{u as F,j as e,b6 as t,b7 as T,b8 as k,b9 as B}from"./index-Cj6qzBOg.js";import"./react-Dz_Dwpfc.js";import{B as I}from"./BatchDeleteButton-ogKNzDRo.js";import{C as A}from"./CreateButton-BMtQHYEL.js";import{E as z,D as R}from"./EditButton-BaG7pNgk.js";import{S as L,a as n,b as N,R as P}from"./SearchRow-DHO8TH7K.js";import{S as w}from"./SearchContainer-DCrQxYWr.js";import{u as v,a as Y,S as _}from"./useTable-BauLLx5n.js";import{P as r}from"./Permission-DZTQLRVh.js";import{w as l,F as q,I as i,a as V,k as o,q as G}from"./antd-CXRY_8Ve.js";import"./echarts-C9Czxobr.js";import"./Button-DhR-ObkO.js";import"./useWindowSize-DSNN33pu.js";import"./useMutation-CQ0bx9B4.js";import"./usePageTransfer-D54nfR-X.js";function re(){const{t:s}=F(),{listContainerProps:m,tableScrollY:c}=v(),{form:d,tableProps:p,isLoading:h,isDeleting:x,isBatchDeleting:u,handleSearch:j,handleReset:g,handleCreate:f,handleEdit:b,handleDelete:y,handleBatchDelete:U,selectedCount:C,selectedIsEmpty:E}=Y({key:"user",cacheEnabled:!0,dataStaleTime:1e3*60*10,pagination:!0,selectable:!0,listApiFn:T,deleteApiFn:k,batchDeleteApiFn:B,scrollY:c,formInitialValues:{username:null,nickName:null,email:null,phone:null},columns:[{title:s("page.systemUser.username"),dataIndex:"username"},{title:s("page.systemUser.nickName"),dataIndex:"nickName"},{title:s("page.systemUser.email"),dataIndex:"email"},{title:s("page.systemUser.phone"),dataIndex:"phone"},{title:s("page.systemUser.isFrozen"),dataIndex:"isFrozen",render:(D,a)=>a.isFrozen?e.jsx(l,{color:"red",children:s("page.systemUser.frozen")}):e.jsx(l,{color:"green",children:s("page.systemUser.unfrozen")})},{title:s("common.actions"),key:"actions",fixed:"right",width:100,render:(D,a)=>e.jsxs(e.Fragment,{children:[e.jsx(r,{permission:t.UPDATE,children:e.jsx(z,{type:"text",size:"small",noText:!0,onClick:()=>b(a)})}),e.jsx(r,{permission:t.DELETE,children:e.jsx(R,{type:"text",size:"small",noText:!0,loading:x,onConfirm:()=>y(a.id)})})]})}]}),S=e.jsx(q,{form:d,onFinish:j,autoComplete:"off",colon:!1,children:e.jsx(w,{actions:e.jsxs(e.Fragment,{children:[e.jsxs(V,{children:[e.jsx(N,{loading:h}),e.jsx(P,{onClick:g})]}),e.jsx(o,{type:"vertical"}),e.jsx(r,{permission:t.DELETE,children:e.jsx(I,{loading:u,disabled:E,count:C,onConfirm:U})}),e.jsx(o,{type:"vertical"}),e.jsx(r,{permission:t.CREATE,children:e.jsx(A,{onClick:()=>f()})})]}),children:e.jsxs(L,{children:[e.jsx(n,{name:"username",label:s("page.systemUser.username"),children:e.jsx(i,{})}),e.jsx(n,{name:"nickName",label:s("page.systemUser.nickName"),children:e.jsx(i,{})}),e.jsx(n,{name:"email",label:s("page.systemUser.email"),children:e.jsx(i,{})}),e.jsx(n,{name:"phone",label:s("page.systemUser.phone"),children:e.jsx(i,{})})]})})});return e.jsx(_,{...m,searchForm:S,children:e.jsx(G,{...p})})}export{re as default};
