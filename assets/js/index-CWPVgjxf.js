import{u as S,j as e,t as s}from"./index-BTOACoUX.js";import{g as T,d as y,b as B}from"./role-lrZ73rwZ.js";import"./react-Dz_Dwpfc.js";import{B as F}from"./BatchDeleteButton-5Uw7E4WZ.js";import{C as A}from"./CreateButton-CGaYzsn4.js";import{E as k,D as I}from"./EditButton-CqqUfUik.js";import{S as L,a as i,b as P,R as v}from"./SearchRow-DzHy1sy5.js";import{S as w}from"./SearchContainer-BiCTJKKK.js";import{u as z,a as U,S as Y}from"./useTable-DDWoXCiJ.js";import{P as a}from"./Permission-C2Rojytc.js";import{F as q,I as n,a as O,k as l,q as V}from"./antd-DpJIrhNI.js";import"./echarts-C9Czxobr.js";import"./Button-CUh0FXTm.js";import"./useWindowSize-DSNN33pu.js";import"./useMutation-0lMB1gFM.js";import"./usePageTransfer-B5Zz6c6L.js";function ie(){const{t}=S(),{listContainerProps:r,tableScrollY:m}=z(),{form:c,tableProps:d,isLoading:p,isDeleting:h,isBatchDeleting:x,handleSearch:u,handleReset:j,handleCreate:f,handleEdit:g,handleDelete:C,handleBatchDelete:E,selectedCount:b,selectedIsEmpty:R}=U({key:"role",cacheEnabled:!0,dataStaleTime:1e3*60*10,pagination:!0,selectable:!0,listApiFn:T,deleteApiFn:y,batchDeleteApiFn:B,scrollY:m,formInitialValues:{name:null,code:null},columns:[{title:t("page.systemRole.name"),dataIndex:"name"},{title:t("page.systemRole.code"),dataIndex:"code"},{title:t("common.actions"),key:"actions",fixed:"right",width:100,render:(_,o)=>e.jsxs(e.Fragment,{children:[e.jsx(a,{permission:s.UPDATE,children:e.jsx(k,{type:"text",size:"small",noText:!0,onClick:()=>g(o)})}),e.jsx(a,{permission:s.DELETE,children:e.jsx(I,{type:"text",size:"small",noText:!0,loading:h,onConfirm:()=>C(o.id)})})]})}]}),D=e.jsx(q,{form:c,onFinish:u,autoComplete:"off",colon:!1,children:e.jsx(w,{actions:e.jsxs(e.Fragment,{children:[e.jsxs(O,{children:[e.jsx(P,{loading:p}),e.jsx(v,{onClick:j})]}),e.jsx(l,{type:"vertical"}),e.jsx(a,{permission:s.DELETE,children:e.jsx(F,{loading:x,disabled:R,count:b,onConfirm:E})}),e.jsx(l,{type:"vertical"}),e.jsx(a,{permission:s.CREATE,children:e.jsx(A,{onClick:()=>f()})})]}),children:e.jsxs(L,{children:[e.jsx(i,{name:"name",label:t("page.systemRole.name"),children:e.jsx(n,{})}),e.jsx(i,{name:"code",label:t("page.systemRole.code"),children:e.jsx(n,{})})]})})});return e.jsx(Y,{...r,searchForm:D,children:e.jsx(V,{...d})})}export{ie as default};
