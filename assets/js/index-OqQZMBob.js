import{u as f,j as e,b4 as o,I as y,b5 as a}from"./index-V4MFPlRL.js";import{g as E,d as M}from"./menu-BunHWgxd.js";import{B as T}from"./Button-zAbYlHlm.js";import{C}from"./CreateButton-rAgwL6W1.js";import{D as b}from"./DeleteButton-PfwmeQjN.js";import{E as I}from"./EditButton-md8980XF.js";import{R as F}from"./RefreshButton-BIPhChAk.js";import"./react-DNsX-D9n.js";import{S as R}from"./SearchContainer-ZwlqVH-H.js";import{u as S,a as A,S as D}from"./useTable-DuCryqmn.js";import{P as r}from"./Permission-DjE67auM.js";import{T as i,o as k,F as B,f as P}from"./antd-Bzi-nNZC.js";import"./echarts-C9Czxobr.js";import"./useWindowSize-CaV-WCuS.js";import"./useMutation-B7AZuxMi.js";import"./usePageTransfer-CJ39HCq2.js";function W(){const{t}=f(),{listContainerProps:m,tableScrollY:d}=S(),{tableProps:p,isLoading:c,isDeleting:u,handleReset:x,handleCreate:l,handleEdit:h,handleDelete:g}=A({key:"menu",cacheEnabled:!0,dataStaleTime:1e3*60*10,pagination:!1,listApiFn:E,deleteApiFn:M,scrollY:d,columns:[{title:t("page.systemMenu.title"),dataIndex:"title"},{title:t("page.systemMenu.type"),dataIndex:"type",render:s=>s===o.DIRECTORY?e.jsx(i,{children:t("page.systemMenu.directory")}):s===o.MENU?e.jsx(i,{color:"blue",children:t("page.systemMenu.menu")}):e.jsx(i,{color:"cyan",children:t("page.systemMenu.feature")})},{title:t("page.systemMenu.icon"),dataIndex:"icon",render:s=>s?e.jsx(y,{icon:s}):null},{title:t("page.systemMenu.path"),dataIndex:"path"},{title:t("page.systemMenu.code"),dataIndex:"code"},{title:t("page.systemMenu.sort"),dataIndex:"sort"},{title:t("page.systemMenu.isShow"),dataIndex:"isShow",render:s=>s?e.jsx(i,{color:"success",children:t("page.systemMenu.show")}):e.jsx(i,{color:"error",children:t("page.systemMenu.hidden")})},{title:t("common.actions"),key:"actions",fixed:"right",width:150,render:(s,n)=>e.jsxs(e.Fragment,{children:[e.jsx(r,{permission:a.CREATE,children:n.type!==o.FEATURE&&e.jsx(T,{icon:"icon-park-outline:tree-diagram",type:"text",size:"small",onClick:()=>l(n)})}),e.jsx(r,{permission:a.UPDATE,children:e.jsx(I,{type:"text",size:"small",noText:!0,onClick:()=>h(n,n)})}),e.jsx(r,{permission:a.DELETE,children:(!n.children||n.children.length===0)&&e.jsx(b,{type:"text",size:"small",noText:!0,loading:u,onConfirm:()=>g(n.id)})})]})}]}),j=e.jsx(B,{colon:!1,children:e.jsx(R,{actions:e.jsxs(e.Fragment,{children:[e.jsx(F,{loading:c,onClick:x}),e.jsx(P,{type:"vertical"}),e.jsx(r,{permission:a.CREATE,children:e.jsx(C,{onClick:()=>l({id:null})})})]})})});return e.jsx(D,{...m,searchForm:j,children:e.jsx(k,{...p})})}export{W as default};
