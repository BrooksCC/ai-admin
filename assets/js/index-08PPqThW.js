import{u as p,j as r,m as w}from"./index-BpF1OpJE.js";import"./react-DNsX-D9n.js";import{S as c}from"./SaveButton-Ce5ZGo_l.js";import{F as P}from"./FormContainer-DxyZvlai.js";import{f,a as g}from"./useForm-hB_lEACM.js";import{F as s,A as C,I as n}from"./antd-Bzi-nNZC.js";import"./echarts-C9Czxobr.js";import"./Button-DSSUBtr-.js";import"./BackButton-CrDcvMqd.js";import"./useWindowSize-CaV-WCuS.js";import"./useMutation-DiyeizWV.js";function E(){const{t:e}=p(),[o]=s.useForm(),{message:i}=C.useApp(),l=(m,t)=>{const u=o.getFieldValue("newPassword");return t!==u?Promise.reject(new Error(e("page.userCenter.rules.passwordNotMatch"))):Promise.resolve()},a={oldPassword:[{required:!0,message:e("page.userCenter.rules.oldPassword")}],newPassword:[{required:!0,message:e("page.userCenter.rules.newPassword")},{min:6,max:16,message:e("page.userCenter.rules.passwordLength")}],confirmPassword:[{required:!0,message:e("page.userCenter.rules.confirmPassword")},{validator:l,trigger:"blur"}]},d=async m=>{try{await w(m),i.success(e("page.userCenter.success")),o.resetFields()}catch(t){console.error(t)}};return r.jsx(P,{children:r.jsxs(s,{form:o,initialValues:{oldPassword:"",newPassword:"",confirmPassword:""},labelCol:g,wrapperCol:f,autoComplete:"off",onFinish:d,children:[r.jsx(s.Item,{label:e("page.userCenter.oldPassword"),name:"oldPassword",rules:a.oldPassword,children:r.jsx(n.Password,{})}),r.jsx(s.Item,{label:e("page.userCenter.newPassword"),name:"newPassword",rules:a.newPassword,children:r.jsx(n.Password,{})}),r.jsx(s.Item,{label:e("page.userCenter.confirmPassword"),name:"confirmPassword",rules:a.confirmPassword,children:r.jsx(n.Password,{})}),r.jsx(s.Item,{wrapperCol:{offset:12,span:8},children:r.jsx(c,{type:"primary",htmlType:"submit"})})]})})}export{E as default};
